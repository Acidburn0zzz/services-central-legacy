<svg xmlns="http://www.w3.org/2000/svg" onload="setTimeout(handleLoad, 0);" version="1.1"><title>Testcase for removing display:none from foreignObject child</title><script type="application/ecmascript"><![CDATA[

// This must be called using setTimeout since it was _after_ loading we failed

function handleLoad(event)
{
  document.getElementById('div').style.display = 'block';
}

  ]]></script><rect width="100%" height="100%" fill="red"/><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" id="div" display="none" style="background:#0f0;width:100%;height:100%"/></foreignObject></svg>